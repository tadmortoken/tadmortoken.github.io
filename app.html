<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Tadmor Token â€¢ Mini App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background-color: #020617;
      color: #f9fafb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 480px;
      min-height: 100vh;
      background-color: #020617;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      border-bottom: 1px solid #111827;
      background-color: #020617;
    }

    .user-id {
      font-size: 12px;
      color: #9ca3af;
    }

    .logo-box {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-circle {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fde68a, #b45309);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 14px;
      color: #111827;
    }

    .logo-texts {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .logo-main {
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .logo-sub {
      font-size: 10px;
      color: #9ca3af;
    }

    /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø§Øª */
    .page {
      flex: 1;
      padding: 12px 14px 70px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù€ nav */
      overflow-y: auto;
    }

    .hidden {
      display: none;
    }

    /* ================== Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ================== */

    .coming-card {
      background-color: #020617;
      border-radius: 16px;
      border: 1px solid #111827;
      padding: 14px 12px;
      margin-bottom: 16px;
    }

    /* Ù‚Ø±ÙŠØ¨Ø§Ù‹ - ÙƒØ¨ÙŠØ±Ø©ØŒ ÙÙŠ Ø§Ù„Ù†ØµØŒ Ù…Ø¹ Ù„Ù…Ø¹Ø© + Ù†Ø¨Ø¶ */
    .coming-title {
      font-size: 26px;
      font-weight: 700;
      color: #facc15;
      text-align: center;
      margin-bottom: 6px;

      text-shadow:
        0 0 6px rgba(250, 204, 21, 0.45),
        0 0 12px rgba(250, 204, 21, 0.3);

      animation: pulseSoon 3s infinite ease-in-out;
    }

    /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø¹Ø¯ 200% ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ + ØªÙˆØ³ÙŠØ· */
    .coming-countdown {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 8px;
      text-align: center;
      text-shadow:
        0 0 4px rgba(15, 23, 42, 0.8);
    }

    .coming-sub {
      font-size: 12px;
      color: #9ca3af;
      text-align: center;
    }

    .video-block {
      margin-top: 16px;
      border-radius: 14px;
      border: 1px dashed rgba(250, 204, 21, 0.6);
      padding: 8px;
      background-color: #030712;
    }

    .video-label {
      font-size: 11px;
      color: #facc15;
      margin-bottom: 4px;
    }

    .video-placeholder {
      position: relative;
      width: 100%;
      padding-top: 56.25%; /* 16:9 */
      background: #020617;
      border-radius: 10px;
      border: 1px solid #111827;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #6b7280;
      font-size: 12px;
      text-align: center;
    }

    .video-placeholder span {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 8px;
    }

    .bottom-text {
      margin-top: 20px;
      font-size: 12px;
      color: #9ca3af;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 10px;
    }

    .bottom-text h3 {
      font-size: 13px;
      color: #e5e7eb;
      margin-bottom: 6px;
    }

    /* ================== ØµÙØ­Ø© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ (Friends) ================== */

    .friends-page {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ: Ø£ÙŠÙ‚ÙˆÙ†Ø© + Ø¹Ø¯Ø¯ + Ø¹Ù†ÙˆØ§Ù† */
    .friends-header {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 10px;
      padding: 8px 4px 4px;
    }

    .friends-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background-color: #030712;
      border: 1px solid #111827;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .friends-count {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .friends-count-number {
      font-size: 16px;
      font-weight: 700;
    }

    .friends-count-label {
      font-size: 11px;
      color: #9ca3af;
    }

    .friends-title {
      margin-right: auto;
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #e5e7eb;
    }

    /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¯Ø¹ÙˆØ© */
    .invite-card {
      background-color: #020617;
      border-radius: 14px;
      border: 1px solid #111827;
      padding: 12px 12px 10px;
    }

    .invite-card-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .invite-card-sub {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 10px;
    }

    /* Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø¨ÙˆÙ†Øµ */
    .bonus-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 12px;
    }

    .bonus-box {
      border-radius: 10px;
      border: 1px solid #111827;
      background-color: #030712;
      padding: 8px 8px 6px;
      font-size: 11px;
    }

    .bonus-label {
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .bonus-value {
      font-size: 15px;
      font-weight: 700;
      color: #facc15;
    }

    /* Ø­Ù‚Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© */
    .invite-link-block {
      margin-top: 4px;
    }

    .invite-link-label {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .invite-link-row {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .invite-link-input {
      flex: 1;
      height: 32px;
      border-radius: 999px;
      border: 1px solid #111827;
      background-color: #020617;
      color: #e5e7eb;
      font-size: 11px;
      padding: 0 10px;
      outline: none;
    }

    .invite-link-input::placeholder {
      color: #4b5563;
    }

    .invite-copy-btn {
      white-space: nowrap;
      border-radius: 999px;
      border: 1px solid #facc15;
      background-color: #facc15;
      color: #111827;
      font-size: 11px;
      font-weight: 600;
      padding: 7px 10px;
      cursor: pointer;
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© */
    .share-block {
      margin-top: 10px;
    }

    .share-label {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 6px;
    }

    .share-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .share-btn {
      flex: 1;
      min-width: 90px;
      border-radius: 999px;
      border: 1px solid #111827;
      background-color: #030712;
      color: #e5e7eb;
      font-size: 11px;
      padding: 7px 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }

    .share-btn span.icon {
      font-size: 13px;
    }

    /* ================== ØµÙØ­Ø§Øª Ø«Ø§Ù†ÙŠØ© (Ù…Ø­ÙØ¸Ø© / Ø£Ø¯Ø§Ø¡) ================== */

    .placeholder {
      font-size: 13px;
      color: #9ca3af;
    }

    .placeholder h2 {
      font-size: 18px;
      margin-bottom: 8px;
      color: #e5e7eb;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #111827;
      margin-top: 10px;
      font-size: 11px;
      background-color: #030712;
    }

    /* ================== Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ ================== */

    .bottom-nav {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      width: 100%;
      max-width: 480px;
      background-color: #020617;
      border-top: 1px solid #111827;
      display: flex;
      padding: 6px 8px;
      gap: 6px;
    }

    .nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
      border-radius: 999px;
      padding: 6px 0;
      font-size: 10px;
      cursor: pointer;
      user-select: none;
      color: #6b7280;
    }

    .nav-item span.icon {
      font-size: 18px;
    }

    .nav-item span.label {
      letter-spacing: 0.03em;
    }

    .nav-item.active {
      background-color: #030712;
      color: #facc15;
    }

    /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† "Ù‚Ø±ÙŠØ¨Ø§Ù‹" */
    @keyframes pulseSoon {
      0% {
        transform: scale(1);
        text-shadow:
          0 0 6px rgba(250, 204, 21, 0.45),
          0 0 12px rgba(250, 204, 21, 0.3);
      }
      50% {
        transform: scale(1.08);
        text-shadow:
          0 0 12px rgba(250, 204, 21, 0.7),
          0 0 20px rgba(250, 204, 21, 0.45);
      }
      100% {
        transform: scale(1);
        text-shadow:
          0 0 6px rgba(250, 204, 21, 0.45),
          0 0 12px rgba(250, 204, 21, 0.3);
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="top-bar">
      <div class="user-id" id="user-id-display">ID: â€”â€”</div>

      <div class="logo-box">
        <div class="logo-texts">
          <div class="logo-main">Tadmor Token</div>
          <div class="logo-sub">Palmyra â€¢ Web3 â€¢ Community</div>
        </div>
        <div class="logo-circle">TD</div>
      </div>
    </div>

    <!-- Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="page" id="page-home">
      <div class="coming-card">
        <div class="coming-title">Ù‚Ø±ÙŠØ¨Ø§Ù‹</div>
        <div class="coming-countdown" id="countdown">
          Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø¨Ø¹Ø¯: â€” ÙŠÙˆÙ… â€” Ø³Ø§Ø¹Ø© â€” Ø¯Ù‚ÙŠÙ‚Ø© â€” Ø«Ø§Ù†ÙŠØ©
        </div>
        <div class="coming-sub">
          ØªØ¬Ø±Ø¨Ø© Tadmor Token Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙˆØª ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØµØºØ± Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ± Ø­Ø§Ù„ÙŠØ§Ù‹.
        </div>

        <div class="video-block">
          <div class="video-label">ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚</div>
          <!-- Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù€ div Ø¨Ù€ iframe Ù…Ù† ÙŠÙˆØªÙŠÙˆØ¨ Ø¥Ø°Ø§ Ø­Ø§Ø¨ -->
          <!-- Ù…Ø«Ø§Ù„:
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/..." frameborder="0" allowfullscreen></iframe>
          -->
          <div class="video-placeholder">
            <span>Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ ÙÙŠØ¯ÙŠÙˆ ØªØ¹Ø±ÙŠÙÙŠ Ù„ØªØ¯Ù…Ø± ØªÙˆÙƒÙ† (YouTube / Vimeo ...).</span>
          </div>
        </div>
      </div>

      <div class="bottom-text">
        <h3>Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h3>
        <p>
          Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ Ø±ÙˆØ§Ø¨Ø·ØŒ ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø£Ùˆ Ø£ÙŠ Ø¹Ù†ØµØ± Ø¥Ø¶Ø§ÙÙŠ 
          ØªØ­Ø¨ ÙŠÙƒÙˆÙ† ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ØµÙØ­Ø© Ù…Ø«Ù„ Ø²Ø± Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ø£Ùˆ Whitepaper.
        </p>
      </div>
    </div>

    <!-- Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ -->
    <div class="page hidden" id="page-friends">
      <div class="friends-page">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <div class="friends-header">
          <div class="friends-icon">ğŸ‘¥</div>

          <div class="friends-count">
            <div class="friends-count-number" id="friends-count-value">0</div>
            <div class="friends-count-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† Ø¯Ø¹ÙˆØªÙ‡Ù…</div>
          </div>

          <div class="friends-title">Friends</div>
        </div>

        <!-- ÙƒØ±Øª Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ -->
        <div class="invite-card">
          <div class="invite-card-title">Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
          <div class="invite-card-sub">
            Ø§ÙƒØ³Ø¨ Ø¨ÙˆÙ†Øµ Ù„ÙƒÙ„ ØµØ¯ÙŠÙ‚ ÙŠØ³Ø¬Ù‘Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø±Ø§Ø¨Ø·Ùƒ Ø§Ù„Ø®Ø§ØµØŒ ÙˆØ§Ø¬Ù…Ø¹ Ù…ÙƒØ§ÙØ¢Øª Tadmor Token.
          </div>

          <div class="bonus-grid">
            <div class="bonus-box">
              <div class="bonus-label">Ø¨ÙˆÙ†Øµ Ù„Ù„ØµØ¯ÙŠÙ‚ Ø§Ù„ÙˆØ§Ø­Ø¯</div>
              <div class="bonus-value" id="bonus-per-friend">10</div>
            </div>
            <div class="bonus-box">
              <div class="bonus-label">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¨ÙˆÙ†Øµ</div>
              <div class="bonus-value" id="bonus-total">0</div>
            </div>
          </div>

          <!-- Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© -->
          <div class="invite-link-block">
            <div class="invite-link-label">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</div>
            <div class="invite-link-row">
              <input
                id="invite-link-input"
                class="invite-link-input"
                type="text"
                readonly
                placeholder="Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© Ù‡Ù†Ø§..."
              />
              <button class="invite-copy-btn" id="copy-invite-btn">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
            </div>
          </div>

          <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
          <div class="share-block">
            <div class="share-label">Ù…Ø´Ø§Ø±ÙƒØ© Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©</div>
            <div class="share-row">
              <button class="share-btn" id="share-wa">
                <span class="icon">ğŸŸ¢</span><span>ÙˆØ§ØªØ³Ø§Ø¨</span>
              </button>
              <button class="share-btn" id="share-tg">
                <span class="icon">ğŸ“¨</span><span>ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</span>
              </button>
              <button class="share-btn" id="share-tw">
                <span class="icon">ğŸ¦</span><span>ØªÙˆÙŠØªØ±</span>
              </button>
              <button class="share-btn" id="share-ig">
                <span class="icon">ğŸ“¸</span><span>Ø§Ù†Ø³ØªØºØ±Ø§Ù…</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ÙØ¸Ø© -->
    <div class="page hidden" id="page-wallet">
      <div class="placeholder">
        <h2>Ø§Ù„Ù…Ø­ÙØ¸Ø©</h2>
        <p>
          Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØ¹Ø±Ø¶ Ø±ØµÙŠØ¯ Tadmor Token Ø£Ùˆ Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙˆØªØŒ
          ÙˆØ±Ø¨Ø· Ù…Ø­Ø§ÙØ¸ Ø®Ø§Ø±Ø¬ÙŠØ© Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¥Ø°Ø§ Ø­Ø§Ø¨.
        </p>
        <div class="pill">ğŸ‘› <span>Ù…Ø­ÙØ¸Ø© Ù…ØµØºÙ‘Ø±Ø© Ù„Ù„Ù…Ø¬ØªÙ…Ø¹</span></div>
      </div>
    </div>

    <!-- Ø§Ù„Ø£Ø¯Ø§Ø¡ -->
    <div class="page hidden" id="page-performance">
      <div class="placeholder">
        <h2>Ø§Ù„Ø£Ø¯Ø§Ø¡</h2>
        <p>
          Ù‚Ø³Ù… Ù…Ø®ØµØµ Ù„Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ØŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ØŒ Ø£Ùˆ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬.
        </p>
        <div class="pill">ğŸ“ˆ <span>Ù„ÙˆØ­Ø© Ø£Ø¯Ø§Ø¡ Ù‚Ø§Ø¯Ù…Ø©</span></div>
      </div>
    </div>
  </div>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ -->
  <div class="bottom-nav">
    <div class="nav-item active" data-target="home">
      <span class="icon">ğŸ </span>
      <span class="label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
    </div>
    <div class="nav-item" data-target="friends">
      <span class="icon">ğŸ‘¥</span>
      <span class="label">Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</span>
    </div>
    <div class="nav-item" data-target="wallet">
      <span class="icon">ğŸ‘›</span>
      <span class="label">Ø§Ù„Ù…Ø­ÙØ¸Ø©</span>
    </div>
    <div class="nav-item" data-target="performance">
      <span class="icon">ğŸ“ˆ</span>
      <span class="label">Ø§Ù„Ø£Ø¯Ø§Ø¡</span>
    </div>
  </div>

  <script>
    // Ù†Ø®Ù„ÙŠ Tadmor ID Ù…ØªÙˆÙØ± Ù„ÙƒÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª
    var tadmorId = null;

    // --- Ù‚Ø±Ø§Ø¡Ø© Tadmor ID / ID Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ùˆ Telegram WebApp ---
    (function () {
      var span = document.getElementById("user-id-display");
      var idText = "ID: Guest";

      try {
        // 1) Telegram WebApp (Ø§Ø­ØªÙŠØ§Ø· Ù„Ùˆ Ø­Ø§Ø¨ ØªØ³ØªØ®Ø¯Ù…Ù‡)
        if (window.Telegram && window.Telegram.WebApp) {
          var tg = window.Telegram.WebApp;
          tg.ready();

          if (tg.initDataUnsafe && tg.initDataUnsafe.user && tg.initDataUnsafe.user.id) {
            idText = "ID: " + tg.initDataUnsafe.user.id;
          }
        }

        // 2) Ø§Ù„Ø£ÙØ¶Ù„: Tadmor ID Ø§Ù„Ù‚Ø§Ø¯Ù… Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
        var params = new URLSearchParams(window.location.search);
        if (params.get("user_id")) {
          tadmorId = params.get("user_id");
          idText = "Tadmor ID: " + tadmorId;
        } else if (params.get("id")) {
          tadmorId = params.get("id");
          idText = "Tadmor ID: " + tadmorId;
        }
      } catch (e) {
        console.warn("Telegram WebApp or params not available:", e);
      }

      span.textContent = idText;
    })();

    // Ø¹Ø¯Ù‘ ØªÙ†Ø§Ø²Ù„ÙŠ Ø¨Ø³ÙŠØ· (ØºÙŠÙ‘Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø­Ø³Ø¨ Ù…Ø§ ØªØ±ÙŠØ¯)
    (function () {
      var countdownEl = document.getElementById("countdown");
      // Ø­Ø¯Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ù‡Ù†Ø§
      var launchDate = new Date("2026-01-01T00:00:00Z");

      function updateCountdown() {
        var now = new Date();
        var diff = launchDate - now;

        if (diff <= 0) {
          countdownEl.textContent = "ØªÙ… Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚! ğŸ‰";
          return;
        }

        var totalSeconds = Math.floor(diff / 1000);
        var days = Math.floor(totalSeconds / 86400);
        var hours = Math.floor((totalSeconds % 86400) / 3600);
        var minutes = Math.floor((totalSeconds % 3600) / 60);
        var seconds = totalSeconds % 60;

        countdownEl.textContent =
          "Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø¨Ø¹Ø¯: " +
          days + " ÙŠÙˆÙ… " +
          hours + " Ø³Ø§Ø¹Ø© " +
          minutes + " Ø¯Ù‚ÙŠÙ‚Ø© " +
          seconds + " Ø«Ø§Ù†ÙŠØ©";
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    })();

    // ----- Ù…Ù†Ø·Ù‚ ØµÙØ­Ø© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ (Friends) -----
    (function () {
      // Ø¹Ø¯Ù‘Ù„ Ù‡Ø°Ø§ Ù„ÙŠÙˆØ²Ø± Ø§Ù„Ø¨ÙˆØª ØªØ¨Ø¹Ùƒ Ø¨Ø¯ÙˆÙ† @
      var BOT_USERNAME = "Tadmor_TkBot"; // <-- ØºÙŠÙ‘Ø± Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§

      var inviteLinkInput = document.getElementById("invite-link-input");
      var copyBtn = document.getElementById("copy-invite-btn");

      var friendsCountEl = document.getElementById("friends-count-value");
      var bonusPerFriendEl = document.getElementById("bonus-per-friend");
      var bonusTotalEl = document.getElementById("bonus-total");

      // Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ‘ÙŠÙ† (Ù…Ø¤Ù‚ØªØ§Ù‹ Ù…Ù† Ø¨Ø§Ø±Ø§Ù…ØªØ± ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· ref_count)
      // Ù„Ù…Ø§ ØªØ±ÙƒÙ‘Ø¨ API Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù†Ø¬ÙŠØ¨ Ø§Ù„Ø±Ù‚Ù… Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¨Ø¯Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·
      var params = new URLSearchParams(window.location.search);
      var refCount = parseInt(params.get("ref_count") || "0", 10);
      if (isNaN(refCount) || refCount < 0) {
        refCount = 0;
      }

      friendsCountEl.textContent = refCount.toString();

      // Ø¨ÙˆÙ†Øµ Ù„ÙƒÙ„ ØµØ¯ÙŠÙ‚ - ØªÙ‚Ø¯Ø± ØªØ¹Ø¯Ù„Ù‡ Ù…Ù† Ø§Ù„Ø¹Ù†ØµØ± Ù†ÙØ³Ù‡
      var bonusPerFriend = parseInt(bonusPerFriendEl.textContent || "10", 10);
      var bonusTotal = bonusPerFriend * refCount;
      bonusTotalEl.textContent = bonusTotal.toString();

      // ØªÙˆÙ„ÙŠØ¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©
      var inviteLink = "";
      if (tadmorId) {
        // Ù…Ø«Ø§Ù„: https://t.me/BOT_USERNAME?start=ref_TADMORID
        inviteLink = "https://t.me/" + BOT_USERNAME + "?start=ref_" + encodeURIComponent(tadmorId);
      } else {
        // Ù„Ùˆ Ù…Ø§ ØªÙˆÙØ± Tadmor ID Ù†Ø³ØªØ®Ø¯Ù… Ø±Ø§Ø¨Ø· Ø¹Ø§Ù… Ù„Ù„Ø¨ÙˆØª
        inviteLink = "https://t.me/" + BOT_USERNAME;
      }

      inviteLinkInput.value = inviteLink;

      // Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·
      if (copyBtn) {
        copyBtn.addEventListener("click", function () {
          if (!inviteLink) return;
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(inviteLink).then(function () {
              copyBtn.textContent = "ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ”";
              setTimeout(function () {
                copyBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·";
              }, 1200);
            }).catch(function () {
              alert("Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n" + inviteLink);
            });
          } else {
            // Ù…ØªØµÙØ­ Ù‚Ø¯ÙŠÙ…
            alert("Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n" + inviteLink);
          }
        });
      }

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
      function openShare(url) {
        window.open(url, "_blank");
      }

      var shareText = encodeURIComponent("Ø§Ù†Ø¶Ù… Ù„ØªØ¯Ù…Ø± ØªÙˆÙƒÙ† Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ ğŸ”—");
      var encodedLink = encodeURIComponent(inviteLink);

      var btnWa = document.getElementById("share-wa");
      var btnTg = document.getElementById("share-tg");
      var btnTw = document.getElementById("share-tw");
      var btnIg = document.getElementById("share-ig");

      if (btnWa) {
        btnWa.addEventListener("click", function () {
          var url = "https://wa.me/?text=" + shareText + "%20" + encodedLink;
          openShare(url);
        });
      }

      if (btnTg) {
        btnTg.addEventListener("click", function () {
          var url = "https://t.me/share/url?url=" + encodedLink + "&text=" + shareText;
          openShare(url);
        });
      }

      if (btnTw) {
        btnTw.addEventListener("click", function () {
          var url = "https://twitter.com/intent/tweet?url=" + encodedLink + "&text=" + shareText;
          openShare(url);
        });
      }

      if (btnIg) {
        btnIg.addEventListener("click", function () {
          // Ø§Ù†Ø³ØªØºØ±Ø§Ù… Ù…Ø§ ÙŠØ¯Ø¹Ù… Ø±Ø§Ø¨Ø· Ù…Ø´Ø§Ø±ÙƒØ© ÙˆÙŠØ¨ Ø±Ø³Ù…ÙŠØŒ ÙÙ†ÙƒØªÙÙŠ Ø¨Ø§Ù„Ù†Ø³Ø®
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(inviteLink).then(function () {
              alert("ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©.\nØ§ÙØªØ­ Ø§Ù†Ø³ØªØºØ±Ø§Ù… ÙˆØ§Ù„ØµÙ‚Ù‡ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ø§Ù„Ø¨Ø§ÙŠÙˆ.");
            }).catch(function () {
              alert("Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n" + inviteLink);
            });
          } else {
            alert("Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n" + inviteLink);
          }
        });
      }
    })();

    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
    (function () {
      var pages = {
        home: document.getElementById("page-home"),
        friends: document.getElementById("page-friends"),
        wallet: document.getElementById("page-wallet"),
        performance: document.getElementById("page-performance")
      };

      var navItems = document.querySelectorAll(".nav-item");

      function showPage(key) {
        for (var p in pages) {
          if (pages.hasOwnProperty(p)) {
            if (p === key) {
              pages[p].classList.remove("hidden");
            } else {
              pages[p].classList.add("hidden");
            }
          }
        }
      }

      navItems.forEach(function (item) {
        item.addEventListener("click", function () {
          var target = item.getAttribute("data-target");

          showPage(target);

          navItems.forEach(function (el) {
            el.classList.remove("active");
          });
          item.classList.add("active");
        });
      });
    })();
  </script>
</body>
</html>
